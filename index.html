<!DOCTYPE html>
<html>
	<head>
		<title>Slippi Light in Browser</title>
		<meta charset='utf-8'>
		<style>
			body{background-color:#1d1a1a;color:white;justify-content:center;}
			.body{position:relative;display:flex;justify-content:center;}
			button{background-color:#4caf50 !important; border:none;font-size:16px;}
			button:hover{background-color:#11ff11 !important;}
			.button{background-color:#4caf50 !important; border:none;font-size:18px !important;color:#000000 !important;display:inline-block;padding:4px 4px;}
			.button:hover{background-color:#11ff11 !important;}
			#fileShow{
				background:none !important;
				color:white !important;
			}
			a:link{
				color:#ffffff !important;
			}
			a:visited{
				color:#aaaaaa !important;
			}
			a{
				position:relative;
			}
		</style>
	</head>
	<body>
		<h3><div style="width:100%;justify-content:center;display:flex"><a href="https://github.com/b3nd3r-ssbm/slippi-light">Download the Full Version</a></div></h3><br>
		<div class="body">
		<script src="./p5.min.js"></script>
		<script src="./main.js"></script>
		<div id="init">
			<label for="fileIn"><span class="button">Upload processed JSON from slp file </span><span id="fileName">No File Selected</span></label>
			<input type="file" accept=".json" id="fileIn" style="display:none" onchange="fileShow()">
			<button onclick="process()">Submit</button><br>
			<br><button onclick="jsonTut()">How Do I get JSONs for this?</button>
			<div id="jsonTut" style="display:none">
				<form action="https://slippi-light-online-parser.b3nd3rssbm.repl.co/" method="post" enctype="multipart/form-data">
					<label for="slp">Generate them here!<span class="button">Upload slp file</span><span id="slpFileName">No File Selected</span></label>
					<input type="file" id="slp" accept=".slp" name="slp" style="display:none" onchange="slpFileShow()">
					<input type="submit" class="button">
				</form>
				<h3>OR</h3>
				<p><a href="https://github.com/b3nd3r-ssbm/slippi-light-parser">Use the offline parser to generate JSONs</a></p>
			</div>
			<br><h3>OR</h3><br>
			<button onclick="g7GrandsShow()">Watch Genesis 7 Grand Finals</button>
			<div id="g7" style="display:none">
				<label for="g7Drop">Choose a Game</label><br>
				<select id="g7Drop">
					<option>Game 1</option>
					<option>Game 2</option>
					<option>Game 3</option>
					<option>Game 4</option>
					<option>Game 5</option>
				</select><br>
				<button onclick="g7Grands()">Submit</button>
			</div>
		</div>
		<div id="unhide" style="display:none">
			<button id="pause" onclick="playPause()">Play/Pause</button>
			<button onclick="options()">Show/Hide Options</button>
			<a href="https://github.com/b3nd3r-ssbm/slippi-light/blob/master/actionStateReference.csv">What do the action states mean?</a>
			<div id="options" style="display:none">
				<button onclick="restart()">Play another slp file</button>
				<button onclick="frameAdvance()">Forward one frame</button>
				<button onclick="changeAction()">Show/Hide Action States</button>
				<button onclick="toggleHitbox()">Show/Hide "Hitboxes"</button>
				Playback Speed (default is 1):
				<input type="number" id="speed" placeholder="1.0" step="0.25" onchange="updateSpeed()" min="0.25" max="4.0">
				<button onclick="comboPage()">Generate/View Combos</button>
				<button onclick="togglePastAct()">Show/Hide Past Action States</button>
			</div>
				<div id="pastActions" style="display:none;flex-direction:row;">
					<div id="p1Act" style="display:flex;flex-direction:column;height:100px;width:180px;border:1px solid #4e4e4e;font:16px Arial, Serif;overflow:auto;">P1 Actions:<br><span id="p1ActText"></span></div>
					<div id="p2Act" style="display:flex;flex-direction:column;height:100px;width:180px;border:1px solid #4e4e4e;font:16px Arial, Serif;overflow:auto;">P2 Actions:<br><span id="p2ActText"></span></div>
				</div>
		</div>
		<div id="combos" style="display:none">
			<label for="percent">Minimum Percentage Done</label>
			<input type="number" id="percent" step="1" min="0" value="60"><br>
			<input type="checkbox" id="didKill">
			<label for="didKill">Combo Must Kill</label><br>
			<label for="minMoves">Minimum Move Count</label>
			<input type="number" id="minMoves" min="1" step="1" value="1"><br>
			Accept Combos From Players:<br>
			<input type="checkbox" id="port1" checked>
			<label for="port1">1</label>
			<input type="checkbox" id="port2" checked>
			<label for="port2">2</label><br>
			<button onclick="filterCombos()">Submit!</button>
		</div>
		<div id="comboPick" style="display:none">
			<select id="comboDropdown"></select><br>
			<button onclick="submitCombos()">View selected Combo</button>
		</div>
		</div>
		<div id="body" style="display:flex;align-items:center"></div>
	</body>
</html>
